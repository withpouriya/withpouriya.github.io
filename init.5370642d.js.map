{"version":3,"sources":["constants.js","ui.js","gameState.js","buttons.js","init.js"],"names":["ICONS","exports","SCENES","TICK_RATE","RAIN_CHANCE","DAY_LENGTH","NIGHT_LENGTH","getNextHungerTime","clock","Math","floor","random","getNextDieTime","getNextPoopTime","modFox","state","document","querySelector","className","concat","modScene","togglePoopBag","show","classList","toggle","writeModal","text","arguments","length","undefined","innerHTML","_constants","require","_ui","gameState","current","wakeTime","sleepTime","hungryTime","dieTime","poopTime","timeToStartCelebrating","timeToEndCelebrating","scene","tick","wake","sleep","getHungry","startCelebrating","endCelebrating","poop","die","startGame","determineFoxState","handleUserAction","icon","includes","changeWeather","cleanUpPoop","feed","clearTimes","bind","_default","default","toggleHighlighted","initButtons","selectedIcon","addEventListener","_ref","target","contains","_gameState","_interopRequireWildcard","_buttons","_interopRequireDefault","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_typeof","Symbol","iterator","constructor","_regeneratorRuntime","Op","hasOwn","value","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","result","__await","then","unwrapped","error","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","i","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","_catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","apply","init","_init","_callee","nextTimeToTick","nextAnimationFrame","_callee$","_context","_nextAnimationFrame","now","Date","game","requestAnimationFrame","console","log"],"mappings":"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","file":"init.5370642d.js","sourceRoot":"..\\src","sourcesContent":["export const ICONS = [\"fish\", \"poop\", \"weather\"];\nexport const SCENES = [\"day\", \"rain\"];\nexport const TICK_RATE = 3000;\nexport const RAIN_CHANCE = 0.2;\nexport const DAY_LENGTH = 60;\nexport const NIGHT_LENGTH = 5;\nexport const getNextHungerTime = (clock) =>\n  Math.floor(Math.random() * 3) + 8 + clock;\nexport const getNextDieTime = (clock) =>\n  Math.floor(Math.random() * 3) + 3 + clock;\nexport const getNextPoopTime = (clock) =>\n  Math.floor(Math.random() * 3) + 8 + clock;\n","export const modFox = function modFox(state) {\n  document.querySelector(\".fox\").className = `fox fox-${state}`;\n};\nexport const modScene = function modScene(state) {\n  document.querySelector(\".game\").className = `game ${state}`;\n};\nexport const togglePoopBag = function togglePoopBag(show) {\n  document.querySelector(\".poop-bag\").classList.toggle(\"hidden\", !show);\n};\nexport const writeModal = function writeModal(text = \"\") {\n  document.querySelector(\n    \".modal\"\n  ).innerHTML = `<div class=\"modal-inner\">${text}</div>`;\n};\n","import {\n  SCENES,\n  RAIN_CHANCE,\n  DAY_LENGTH,\n  NIGHT_LENGTH,\n  getNextHungerTime,\n  getNextDieTime,\n  getNextPoopTime,\n} from \"./constants\";\nimport { modFox, modScene, togglePoopBag, writeModal } from \"./ui\";\n\nconst gameState = {\n  current: \"INIT\",\n  clock: 1,\n  wakeTime: -1,\n  sleepTime: -1,\n  hungryTime: -1,\n  dieTime: -1,\n  poopTime: -1,\n  timeToStartCelebrating: -1,\n  timeToEndCelebrating: -1,\n  scene: 0,\n  tick() {\n    this.clock++;\n    if (this.clock === this.wakeTime) {\n      this.wake();\n    } else if (this.clock === this.sleepTime) {\n      this.sleep();\n    } else if (this.clock === this.hungryTime) {\n      this.getHungry();\n    } else if (this.clock === this.timeToStartCelebrating) {\n      this.startCelebrating();\n    } else if (this.clock === this.timeToEndCelebrating) {\n      this.endCelebrating();\n    } else if (this.clock === this.poopTime) {\n      this.poop();\n    } else if (this.clock === this.dieTime) {\n      this.die();\n    }\n\n    return this.clock;\n  },\n  startGame() {\n    this.current = \"HATCHING\";\n    this.wakeTime = this.clock + 3;\n    modFox(\"egg\");\n    modScene(\"day\");\n    writeModal();\n  },\n  wake() {\n    this.current = \"IDLING\";\n    this.wakeTime = -1;\n    modFox(\"idling\");\n    this.scene = Math.random() > RAIN_CHANCE ? 0 : 1;\n    modScene(SCENES[this.scene]);\n    this.determineFoxState();\n    this.sleepTime = this.clock + DAY_LENGTH;\n    this.hungryTime = getNextHungerTime(this.clock);\n  },\n  handleUserAction(icon) {\n    // can't do actions while in these states\n    if (\n      [\"SLEEP\", \"FEEDING\", \"CELEBRATING\", \"HATCHING\"].includes(this.current)\n    ) {\n      // do nothing\n      return;\n    }\n\n    if (this.current === \"INIT\" || this.current === \"DEAD\") {\n      this.startGame();\n      return;\n    }\n\n    // execute the currently selected action\n    switch (icon) {\n      case \"weather\":\n        this.changeWeather();\n        break;\n      case \"poop\":\n        this.cleanUpPoop();\n        break;\n      case \"fish\":\n        this.feed();\n        break;\n    }\n  },\n  changeWeather() {\n    this.scene = (1 + this.scene) % SCENES.length;\n    modScene(SCENES[this.scene]);\n    this.determineFoxState();\n  },\n  cleanUpPoop() {\n    if (this.current === \"POOPING\") {\n      this.dieTime = -1;\n      togglePoopBag(true);\n      this.startCelebrating();\n      this.hungryTime = getNextHungerTime(this.clock);\n    }\n  },\n  poop() {\n    this.current = \"POOPING\";\n    this.poopTime = -1;\n    this.dieTime = getNextDieTime(this.clock);\n    modFox(\"pooping\");\n  },\n  feed() {\n    // can only feed when hungry\n    if (this.current !== \"HUNGRY\") {\n      return;\n    }\n\n    this.current = \"FEEDING\";\n    this.dieTime = -1;\n    this.poopTime = getNextPoopTime(this.clock);\n    modFox(\"eating\");\n    this.timeToStartCelebrating = this.clock + 2;\n  },\n  startCelebrating() {\n    this.current = \"CELEBRATING\";\n    modFox(\"celebrate\");\n    this.timeToStartCelebrating = -1;\n    this.timeToEndCelebrating = this.clock + 2;\n  },\n  endCelebrating() {\n    this.timeToEndCelebrating = -1;\n    this.current = \"IDLING\";\n    this.determineFoxState();\n    togglePoopBag(false);\n  },\n  determineFoxState() {\n    if (this.current === \"IDLING\") {\n      if (SCENES[this.scene] === \"rain\") {\n        modFox(\"rain\");\n      } else {\n        modFox(\"idling\");\n      }\n    }\n  },\n  clearTimes() {\n    this.wakeTime = -1;\n    this.sleepTime = -1;\n    this.hungryTime = -1;\n    this.dieTime = -1;\n    this.poopTime = -1;\n    this.timeToStartCelebrating = -1;\n    this.timeToEndCelebrating = -1;\n  },\n  sleep() {\n    this.current = \"SLEEP\";\n    modFox(\"sleep\");\n    modScene(\"night\");\n    this.clearTimes();\n    this.wakeTime = this.clock + NIGHT_LENGTH;\n  },\n  getHungry() {\n    this.current = \"HUNGRY\";\n    this.dieTime = getNextDieTime(this.clock);\n    this.hungryTime = -1;\n    modFox(\"hungry\");\n  },\n  die() {\n    this.current = \"DEAD\";\n    modScene(\"dead\");\n    modFox(\"dead\");\n    this.clearTimes();\n    writeModal(\"روباهی از دست رفت 🙁\");\n  },\n};\n\nexport const handleUserAction = gameState.handleUserAction.bind(gameState);\nexport default gameState;\n","import { ICONS } from \"./constants\";\n\nconst toggleHighlighted = (icon, show) =>\n  document\n    .querySelector(`.${ICONS[icon]}-icon`)\n    .classList.toggle(\"highlighted\", show);\n\nexport default function initButtons(handleUserAction) {\n  let selectedIcon = 0;\n  function buttonClick({ target }) {\n    if (target.classList.contains(\"left-btn\")) {\n      toggleHighlighted(selectedIcon, false);\n      selectedIcon = (2 + selectedIcon) % ICONS.length;\n      toggleHighlighted(selectedIcon, true);\n    } else if (target.classList.contains(\"right-btn\")) {\n      toggleHighlighted(selectedIcon, false);\n      selectedIcon = (1 + selectedIcon) % ICONS.length;\n      toggleHighlighted(selectedIcon, true);\n    } else {\n      handleUserAction(ICONS[selectedIcon]);\n    }\n  }\n\n  document.querySelector(\".buttons\").addEventListener(\"click\", buttonClick);\n}\n","import game, { handleUserAction } from \"./gameState\";\nimport initButtons from \"./buttons\";\nimport { TICK_RATE } from \"./constants\";\n\nasync function init() {\n  console.log(\"starting game\");\n  initButtons(handleUserAction);\n\n  let nextTimeToTick = Date.now();\n  function nextAnimationFrame() {\n    const now = Date.now();\n    if (nextTimeToTick <= now) {\n      game.tick();\n      nextTimeToTick = now + TICK_RATE;\n    }\n    requestAnimationFrame(nextAnimationFrame);\n  }\n\n  nextAnimationFrame();\n}\n\ninit();\n"]}